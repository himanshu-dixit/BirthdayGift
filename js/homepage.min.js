//Webview侧滑菜单script
var main,menu,mask=mui.createMask(_closeMenu);var showMenu=false,mode='main-move';if(!mui.os.android){var spans=document.querySelectorAll('.android-only');for(var i=0,len=spans.length;i<len;i+=1){spans[i].style.display="none"}}mui.init({swipeBack:false,beforeback:back});function back(){if(showMenu){closeMenu();return false}else{menu.close('none');return true}}mui.plusReady(function(){main=plus.webview.currentWebview();setTimeout(function(){menu=mui.preload({id:'menu',url:'menu.html',styles:{left:0,width:'70%',zindex:9997}})},300)});function openMenu(){if(!showMenu){menu.show('none',0,function(){main.setStyle({left:'70%',transition:{duration:150}})});mask.show();showMenu=true}}function closeMenu(){_closeMenu();mask.close()}function _closeMenu(){if(showMenu){main.setStyle({left:'0',transition:{duration:150}})}setTimeout(function(){menu.hide()},200);showMenu=false}document.getElementById("show-btn").addEventListener('tap',openMenu);window.addEventListener('dragright',function(e){e.detail.gesture.preventDefault()});window.addEventListener('dragleft',function(e){e.detail.gesture.preventDefault()});window.addEventListener("swiperight",openMenu);window.addEventListener("swipeleft",closeMenu);window.addEventListener("menu:swipeleft",closeMenu);mui.menu=function(){if(showMenu){closeMenu()}else{openMenu()}};